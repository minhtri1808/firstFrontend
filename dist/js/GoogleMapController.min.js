"use strict";let map,infoWindow,MapDOM=document.querySelector("#map"),BranchListDOM=document.querySelector(".dealer-locator-list .list"),markers=[],locationsInput=locationsInput||[],google=google||{},mapOption={gestureHandling:"cooperative",zoom:12,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#0c6db5"},{visibility:"on"}]}]};const addMarkers=()=>{markers=[];const a=new google.maps.LatLngBounds;locationsInput.forEach((b,c)=>{let d=new google.maps.LatLng(b.lat,b.lng),e=new google.maps.Marker({map:map,title:b.title,position:d,icon:b.icon});a.extend(e.position),markers.push(e),showInfoMarkerOnMap(e,c)}),map.fitBounds(a)},showInfoMarkerOnMap=(a,b)=>{google.maps.event.addListener(a,"click",function(){infoWindow.setContent(`
				<h3>${locationsInput[b].title}</h3>
				<p>${locationsInput[b].address}</p>
				<p>${locationsInput[b].phone}</p>
			`),infoWindow.open(map,a),map.panTo(a.getPosition()),map.setZoom(12)}),google.maps.event.addListener(map,"click",function(){infoWindow.close()})},getLocationList=()=>{BranchListDOM&&(BranchListDOM.innerHTML="",markers.forEach((a,b)=>{const c=document.createElement("div");c.classList.add("dealer-locator-item"),c.innerHTML=`
				<h3>${locationsInput[b].title}</h3>
				<p>${locationsInput[b].address}</p>
				<p>${locationsInput[b].phone}</p>
			`,c.setAttribute("marker-id",`${b}`),c.addEventListener("click",()=>{const a=c.getAttribute("marker-id");google.maps.event.trigger(markers[a],"click")}),BranchListDOM.appendChild(c)}))},initialize=()=>{infoWindow=new google.maps.InfoWindow,map=new google.maps.Map(MapDOM,mapOption),addMarkers();let a=google.maps.event.addListener(map,"idle",()=>{12<map.getZoom()&&map.setZoom(12),google.maps.event.removeListener(a)});google.maps.event.addListener(map,"bounds_changed",getLocationList)};MapDOM&&(google.maps.event.addDomListener(window,"load",initialize),BranchListDOM&&getLocationList());